---
name: 3Dモードでセルの実行ボタン群がタイトルバーに隠れる問題の修正
overview: ""
todos: []
---

# 3Dモードでセルの実行ボタン群がタイトルバーに隠れる問題の修正

## 問題の概要

3Dモードでセルの実行ボタン群（`absolute right-2 -top-4 z-10`）がタイトルバー（`.window-titlebar`）に隠れてしまう問題が発生しています。

### DOM構造とスタッキングコンテキスト

現在の構造：

- `.cell-3d-wrapper` (position: absolute)
- `.window-titlebar` (z-index未設定)
- `.window-content` (position: relative, z-index未設定)
- `.tray` (position: relative, z-index: 1)
- 実行ボタン群 (`absolute right-2 -top-4 z-10`)

問題の原因：

- タイトルバーにz-index未設定で、DOM順序で描画される
- 実行ボタン群の `z-10` は `.tray` のスタッキングコンテキスト内での値
- `.tray` が `z-index: 1` のため、タイトルバーとの比較では不利

## 解決策

スタッキングコンテキストの階層を明確にし、`.window-content` 全体をタイトルバーの上に配置します。

## 実装内容

1. **`cell-3d-wrapper.css` にスタイルを追加**

- `.window-titlebar` に `z-index: 1` を明示的に設定（必須）
- `.window-content` に `z-index: 2` を設定（既に `position: relative` は設定済み）
- これにより、`.window-content` 内の要素（`.tray` とその子要素）がタイトルバーの上に表示される